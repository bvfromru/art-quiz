(()=>{"use strict";var e={d:(t,s)=>{for(var n in s)e.o(s,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:s[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{Hw:()=>v,aR:()=>p,Wc:()=>b});const t={render:async()=>'\n        <main>\n            <nav>\n            <ul class = "main-btn-container">\n              <li class = "main-btn btn click"><a class = "btn-icon btn-byartist" href = "#/byauthor">Викторина по художникам</a></li>\n              <li class = "main-btn btn click"><a class = "btn-icon btn-bypicture" href = "#/bypicture">Викторина по произведениям</a></li>\n              <li class = "main-btn btn click"><a class = "btn-icon btn-settings" href = "#/settings">Настройки</a></li>\n            </ul>\n              </nav>    \n            </main>\n   \n        ',after_render:async()=>{const e=document.querySelector(".navbar-item-home"),t=document.querySelector(".navbar-item-return");e.classList.add("invisible"),t.classList.add("invisible")}},s={render:async()=>'\n            <section class="section">\n                <h1> 404 Error </h1>\n            </section>\n        ',after_render:async()=>{}};function n(e){return Math.floor(Math.random()*e)}function r(e){for(let t=e.length-1;t>0;t--){let s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}const a={parseRequestURL:()=>{let e=(location.hash.slice(1).toLowerCase()||"/").split("/"),t={resource:null,id:null,verb:null};return t.resource=e[1],t.id=e[2],t.verb=e[3],t},getRandomAuthors:e=>{let t=[];t.push(e);const s=b.length;for(;t.length<4;){let r=n(s);t.includes(b[r].author)||t.includes(b[r].author)===e||t.push(b[r].author)}return t=r(t),t},getRandomPictures:e=>{let t=[];t.push(e);const s=b.length;for(;t.length<4;){let r=n(s);t.includes(b[r].imageNum)||t.includes(b[r].imageNum)===e||t.push(b[r].imageNum)}return t=r(t),t},calculateAnswers:e=>e.filter((e=>e)).length,sleep:e=>new Promise((t=>setTimeout(t,e))),playAudio(e){e.currentTime=0,e.play()},audios:{wrong:new Audio("./assets/sounds/wrong.mp3"),correct:new Audio("./assets/sounds/correct.mp3"),finishRound:new Audio("./assets/sounds/finishround.mp3")}},i=async()=>'\n        <nav class = "main-nav">\n          <a class = "navbar-item navbar-item-home btn click navbar-btn-home" href="#/home">Главное меню</a>\n          <div class = "logo">\n            <img src="./assets/img/logo.png">\n          </div>\n          <a class = "navbar-item navbar-item-return btn click navbar-btn-categories" href = "#/byauthor">Выбор раунда</a>\n        </nav>\n        ',c=async()=>{},o=async()=>'\n        <footer class="footer">\n        <div class="github">\n          <a class = "footer-btn" href="https://github.com/bvfromru" target="_blank"><img src="./assets/svg/github.svg" alt="GitHub logo"></a>\n        </div>\n          <div class="year">\n            2021\n          </div>\n          <div class="rsschool">\n            <a class = "footer-btn" href="https://rs.school/js/" target="_blank"><img src="./assets/svg/rs_school_white.svg" alt="RS School logo"></a>\n          </div>\n        </footer>\n        ',l=async()=>{},u={"/":t,"/home":t,"/settings":{render:async()=>'\n      <form>\n        <h1>Настройки приложения</h1>\n        <fieldset>\n          <p>Регулировка громкости</p>\n          <div class="volume-container settings-container">\n            <div class = "volume-btn settings-on-off-btn"></div>\n            <input type="range" class = "volume-input" id = "volume" name = "volume"  min="0" max="1" value="0.5" step="0.01">\n          </div>\n          <p>Таймер для ответа на вопрос</p>\n          <div class="timer-container settings-container">\n            <div class = "timer-btn settings-on-off-btn"></div>\n            <div class="amount-section amount-basic">\n              <button class="btn change-timer-btn amount-minus" type="button" onclick="this.nextElementSibling.stepDown()">–</button>\n                <input class="timer-input " type="number" min="0" max="30" step="5" value="0" readonly="">\n              <button class="btn change-timer-btn amount-plus" type="button" onclick="this.previousElementSibling.stepUp()">+</button>\n            </div>\n          </div>\n          <div  class = "settings-btn-container" >\n \n            <div>\n              <input class = "btn settings-btn settings-submit" type="submit" value="Сохранить">\n            </div>\n          </div>\n          <p class = "hint">Управление викториной с клавиатуры:<br>клавиши с 1 по 4 и Enter</p>\n        </fieldset>\n      </form>\n\n\n      \n\n      \n        ',after_render:async()=>{document.querySelector(".navbar-item-return").classList.add("invisible");const e=document.querySelector(".settings-submit"),t=document.querySelector(".volume-input"),s=document.querySelector(".timer-input"),n=document.querySelector(".amount-minus"),r=document.querySelector(".amount-plus"),i=document.querySelector(".timer-btn"),c=document.querySelector(".volume-btn");function o(){0==s.value?i.classList.contains("timer-off")||i.classList.add("timer-off"):i.classList.remove("timer-off")}function l(){0==t.value?c.classList.contains("volume-off")||c.classList.add("volume-off"):c.classList.remove("volume-off")}t.value=localStorage.getItem("quiz-volume"),s.value=localStorage.getItem("quiz-timer"),e.addEventListener("click",(function(e){e.preventDefault(),localStorage.setItem("quiz-volume",t.value),localStorage.setItem("quiz-timer",s.value),window.location.href="#"})),i.addEventListener("click",(function(){i.classList.toggle("timer-off"),s.value>0?s.value=0:s.value=30})),c.addEventListener("click",(function(){c.classList.toggle("volume-off"),t.value>0?t.value=0:t.value=.5})),n.addEventListener("click",o),r.addEventListener("click",o),t.addEventListener("change",l),t.addEventListener("change",(function(){a.audios.correct.volume=t.value,a.playAudio(a.audios.correct)})),o(),l()}},"/byauthor/:id":{render:async()=>{let e=a.parseRequestURL();return`\n             <h1>Кто автор этой картины?</h1>\n              <div class = "main-container">\n                <div class = "image-container">\n\n                  <div class = "show-result">\n                    <div class = "show-result-picture"></div>\n                    <div class = "show-result-data">\n                      <p class = "show-result-author"></p>\n                      <p class = "show-result-name"></p>\n                      <p class = "show-result-year"></p>\n                    </div>\n                    <button type = "submit" class = "btn-next btn click">Продолжить</button>\n                    </div>\n                    \n                    <div class = "finish-card">\n                    <div class = "finish-card-smile"></div>\n                    <div class = "finish-card-data">\n                      <p class = "finish-card-count"></p>\n                      <p class = "finish-card-status"></p>\n                    </div>\n                    <div class = "finish-card-buttons">\n                      <a class = "finish-card-btn btn start-again click">Сыграть еще раз</a>\n                      <a class = "finish-card-btn btn click"  href = "#/byauthor">К выбору раунда</a>\n                    </div>\n                  </div>\n\n                  <div class= "progressbar-container">\n                    <ul>\n                    ${v[e.id].map(((e,t)=>`<li class = "progressbar-element progressbar-element-${t+1}">\n                          </li>`)).join("\n ")}\n                    </ul>\n                  </div>\n\n                </div>\n                <div class = "timer-progressbar"></div>\n              </div>\n\n              \n              <ul class = "answers-container" id = "answers-container">\n              <div class = "shield hidden"></div>\n                <li><a href = "/" class = "answer answer-1 btn"></a></li>\n                <li><a href = "/" class = "answer answer-2 btn"></a></li>\n                <li><a href = "/" class = "answer answer-3 btn"></a></li>\n                <li><a href = "/" class = "answer answer-4 btn"></a></li>\n              </ul>\n        `},after_render:async()=>{!function(){const e=localStorage.getItem("quiz-volume");for(let t in a.audios)a.audios[t].volume=e}();let e=0,t=[],s=[],n=a.parseRequestURL(),r=v[n.id][e];const i=document.querySelector(".image-container"),c=document.querySelector(".answer-1"),o=document.querySelector(".answer-2"),l=document.querySelector(".answer-3"),u=document.querySelector(".answer-4"),d=document.querySelectorAll(".answer"),m=document.getElementById("answers-container"),g=document.querySelector(".show-result"),h=document.querySelector(".finish-card"),p=document.querySelector(".start-again"),b=document.querySelector(".shield"),y=document.querySelectorAll(".navbar-item");window.addEventListener("keydown",(function(e){if(13===e.keyCode&&(e.preventDefault(),g.classList.contains("show")&&I()),(49<=e.keyCode&&e.keyCode<=52||97<=e.keyCode&&e.keyCode<=100)&&(e.preventDefault(),b.classList.contains("hidden"))){let t=new Event("keypress");switch(e.keyCode){case 50:case 98:o.dispatchEvent(t);break;case 51:case 99:l.dispatchEvent(t);break;case 52:case 100:u.dispatchEvent(t);break;default:c.dispatchEvent(t)}}})),p.addEventListener("click",(function(){k(),b.classList.add("hidden");for(let t=0;t<e+1;t++)document.querySelector(`.progressbar-element-${t+1}`).classList.remove("wrong"),document.querySelector(`.progressbar-element-${t+1}`).classList.remove("correct"),document.querySelector(`.progressbar-element-${t+1}`).classList.remove("current");e=0,t=[],s=[],r=v[n.id][e],h.classList.remove("show"),T()})),b.addEventListener("click",(function(e){e.stopPropagation()})),m.addEventListener("click",A),document.querySelector(`.progressbar-element-${e+1}`).classList.add("current"),T(),d.forEach((e=>{e.addEventListener("keypress",A)})),y.forEach((e=>{e.addEventListener("click",$)}));const f=document.querySelector(".timer-progressbar"),w=localStorage.getItem("quiz-timer");f.style.width="0%";let L=null,S=w-1,q=0;function k(){w>0&&(S=w,q=100,f.classList.remove("smooth"),f.style.width=`${q}%`,f.style.backgroundColor="lightgreen",f.classList.contains("invisible")&&f.classList.remove("invisible"),setTimeout((()=>{f.classList.add("smooth")}),10),L=setInterval(x,1e3))}function $(){clearTimeout(L),f.classList.contains("invisible")||f.classList.add("invisible")}function x(){S>0?(S--,q-=100/w,f.style.backgroundColor=S<=w/4?"red":S<=w/1.5?"orange":"lightgreen",f.style.width=`${Math.floor(q)}%`):($(),s.push(!1),document.querySelector(`.progressbar-element-${e+1}`).classList.add("wrong"),d.forEach((e=>{e.innerText===r.author?e.classList.add("correct"):e.classList.add("wrong")})),E(!1),a.playAudio(a.audios.wrong))}function E(e){const t=document.querySelector(".show-result-picture"),s=document.querySelector(".show-result-author"),n=document.querySelector(".show-result-name"),a=document.querySelector(".show-result-year");b.classList.remove("hidden"),s.innerText=r.author,n.innerText=`"${r.name}"`,a.innerText=`(${r.year})`,t.style.backgroundPosition=e?"0 0":"100% 0",g.addEventListener("click",I),g.classList.add("show")}function A(t){t.preventDefault(),$(),t.target.innerText===r.author?function(t){s.push(!0),document.querySelector(`.progressbar-element-${e+1}`).classList.add("correct"),t.target.classList.add("correct"),E(!0),a.playAudio(a.audios.correct)}(t):function(t){s.push(!1),document.querySelector(`.progressbar-element-${e+1}`).classList.add("wrong"),t.target.classList.add("wrong"),d.forEach((e=>{e.innerText===r.author&&e.classList.add("correct")})),E(!1),a.playAudio(a.audios.wrong)}(t)}function I(){k(),b.classList.add("hidden"),g.classList.remove("show"),d.forEach((e=>{e.classList.remove("correct"),e.classList.remove("wrong")})),e<v[n.id].length-1?(e++,T()):function(){$(),b.classList.remove("hidden"),g.classList.remove("show");const e=document.querySelector(".finish-card-count"),t=document.querySelector(".finish-card-status"),r=document.querySelector(".finish-card-smile");let i=JSON.parse(localStorage.getItem("quizAnswersByAuthor"));i[n.id]=s,localStorage.setItem("quizAnswersByAuthor",JSON.stringify(i));let c=a.calculateAnswers(s),o="",l="rgba(207, 249, 255, 0.9)",u="0px 0px";switch(c){case 0:o="Полный провал!",l="rgba(255, 207, 232, 0.9)",u="558px 160px";break;case 1:o="Случайно повезло?",l="rgba(255, 207, 246, 0.9)",u="160px 0px";break;case 2:o="На двоечку!",l="rgba(240, 207, 255, 0.9)",u="360px 0px";break;case 3:o="Удовлетворительно!",l="rgba(220, 207, 255, 0.9)",u="568px 360px";break;case 4:o="Даже не стараешься!",l="rgba(209, 207, 255, 0.9)",u="765px 360px";break;case 5:o="Ты можешь лучше!",l="rgba(207, 216, 255, 0.9)",u="558px 0px";break;case 6:o="Неплохо!",l="rgba(207, 225, 255, 0.9)",u="0px 360px";break;case 7:o="Хорошо!",l="rgba(207, 235, 255, 0.9)",u="770px 0px";break;case 8:o="Отлично!",l="rgba(207, 249, 255, 0.9)",u="358px 160px";break;case 9:o="Впечатляет!",l="rgba(207, 255, 249, 0.9)",u="758px 160px";break;case 10:o="Идеально!",l="rgba(207, 255, 225, 0.9)";break;default:o="Что-то пошло не так"}h.style.backgroundColor=l,r.style.backgroundPosition=u,e.innerText=`${c} из ${v[n.id].length}`,t.innerText=o,h.classList.add("show"),a.playAudio(a.audios.finishRound)}()}function T(){r=v[n.id][e],t=a.getRandomAuthors(r.author),i.style.backgroundImage=`url("./data/${r.imageNum}.webp")`,c.innerText=t[0],o.innerText=t[1],l.innerText=t[2],u.innerText=t[3],document.querySelector(`.progressbar-element-${e+1}`).classList.add("current")}k()}},"/bypicture/:id":{render:async()=>{let e=a.parseRequestURL();return`\n              <h1 class = "bypicture-question">Какую из этих картин написал ?</h1>\n              <div class = "main-container bypicture-container">\n                <div class = "image-container">\n                \n                <ul class = "answers-container" id = "answers-container">\n                <div class = "shield hidden"></div>\n                  <li><a href = "/" class = "answer answer-1 btn"></a></li>\n                  <li><a href = "/" class = "answer answer-2 btn"></a></li>\n                  <li><a href = "/" class = "answer answer-3 btn"></a></li>\n                  <li><a href = "/" class = "answer answer-4 btn"></a></li>\n                </ul>\n                \n                  <div class = "show-result">\n                    <div class = "show-result-picture"></div>\n                    <div class = "show-result-data">\n                      <p class = "show-result-author"></p>\n                      <p class = "show-result-name"></p>\n                      <p class = "show-result-year"></p>\n                    </div>\n                    <button type = "submit" class = "btn-next btn click">Продолжить</button>\n                    </div>\n                    \n                    <div class = "finish-card">\n                    <div class = "finish-card-smile"></div>\n                    <div class = "finish-card-data">\n                      <p class = "finish-card-count"></p>\n                      <p class = "finish-card-status"></p>\n                    </div>\n                    <div class = "finish-card-buttons">\n                      <a class = "finish-card-btn btn start-again click">Сыграть еще раз</a>\n                      <a class = "finish-card-btn btn click"  href = "#/bypicture">К выбору раунда</a>\n                    </div>\n                  </div>\n\n\n                  </div>\n                  <div class = "timer-progressbar"></div>\n                  <div class= "progressbar-container">\n                  <ul>\n                    ${p[e.id].map(((e,t)=>`<li class = "progressbar-element progressbar-element-${t+1}">\n                          </li>`)).join("\n ")}\n                    </ul>\n                  </div>\n\n                </div>\n        `},after_render:async()=>{!function(){const e=localStorage.getItem("quiz-volume");for(let t in a.audios)a.audios[t].volume=e}();let e=0,t=[],s=[],n=a.parseRequestURL(),r=p[n.id][e];const i=document.querySelector(".bypicture-question"),c=document.querySelector(".answer-1"),o=document.querySelector(".answer-2"),l=document.querySelector(".answer-3"),u=document.querySelector(".answer-4"),d=document.querySelectorAll(".answer"),m=document.getElementById("answers-container"),g=document.querySelector(".show-result"),h=document.querySelector(".finish-card"),v=document.querySelector(".start-again"),b=document.querySelector(".shield"),y=document.querySelectorAll(".navbar-item");window.addEventListener("keydown",(function(e){if(13===e.keyCode&&(e.preventDefault(),g.classList.contains("show")&&I()),(49<=e.keyCode&&e.keyCode<=52||97<=e.keyCode&&e.keyCode<=100)&&(e.preventDefault(),b.classList.contains("hidden"))){let t=new Event("keypress");switch(e.keyCode){case 50:case 98:o.dispatchEvent(t);break;case 51:case 99:l.dispatchEvent(t);break;case 52:case 100:u.dispatchEvent(t);break;default:c.dispatchEvent(t)}}})),v.addEventListener("click",(function(){k(),b.classList.add("hidden");for(let t=0;t<e+1;t++)document.querySelector(`.progressbar-element-${t+1}`).classList.remove("wrong"),document.querySelector(`.progressbar-element-${t+1}`).classList.remove("correct"),document.querySelector(`.progressbar-element-${t+1}`).classList.remove("current");e=0,t=[],s=[],r=p[n.id][e],h.classList.remove("show"),T()})),b.addEventListener("click",(function(e){e.stopPropagation()})),m.addEventListener("click",A),document.querySelector(`.progressbar-element-${e+1}`).classList.add("current"),T(),d.forEach((e=>{e.addEventListener("keypress",A)})),y.forEach((e=>{e.addEventListener("click",$)})),document.querySelector(".navbar-item-return").setAttribute("href","#/bypicture");const f=document.querySelector(".timer-progressbar"),w=localStorage.getItem("quiz-timer");f.style.width="0%";let L=null,S=w-1,q=0;function k(){w>0&&(S=w,q=100,f.classList.remove("smooth"),f.style.width=`${q}%`,f.style.backgroundColor="lightgreen",f.classList.contains("invisible")&&f.classList.remove("invisible"),setTimeout((()=>{f.classList.add("smooth")}),10),L=setInterval(x,1e3))}function $(){clearTimeout(L),f.classList.contains("invisible")||f.classList.add("invisible")}function x(){S>0?(S--,q-=100/w,f.style.backgroundColor=S<=w/4?"red":S<=w/1.5?"orange":"lightgreen",f.style.width=`${Math.floor(q)}%`):($(),s.push(!1),document.querySelector(`.progressbar-element-${e+1}`).classList.add("wrong"),d.forEach((e=>{e.style.backgroundImage===`url("./data/${r.imageNum}.webp")`?e.classList.add("correct"):e.classList.add("wrong")})),E(!1),a.playAudio(a.audios.wrong))}function E(e){const t=document.querySelector(".show-result-picture"),s=document.querySelector(".show-result-author"),n=document.querySelector(".show-result-name"),a=document.querySelector(".show-result-year");b.classList.remove("hidden"),s.innerText=r.author,n.innerText=`"${r.name}"`,a.innerText=`(${r.year})`,t.style.backgroundPosition=e?"0 0":"100% 0",g.addEventListener("click",I),g.classList.add("show")}function A(t){t.preventDefault(),$(),t.target.style.backgroundImage===`url("./data/${r.imageNum}.webp")`?function(t){s.push(!0),document.querySelector(`.progressbar-element-${e+1}`).classList.add("correct"),t.target.classList.add("correct"),E(!0),a.playAudio(a.audios.correct)}(t):function(t){s.push(!1),document.querySelector(`.progressbar-element-${e+1}`).classList.add("wrong"),t.target.classList.add("wrong"),d.forEach((e=>{e.style.backgroundImage===`url("./data/${r.imageNum}.webp")`&&e.classList.add("correct")})),E(!1),a.playAudio(a.audios.wrong)}(t)}function I(){k(),b.classList.add("hidden"),g.classList.remove("show"),d.forEach((e=>{e.classList.remove("correct"),e.classList.remove("wrong")})),e<p[n.id].length-1?(e++,T()):function(){$(),b.classList.remove("hidden"),g.classList.remove("show");const e=document.querySelector(".finish-card-count"),t=document.querySelector(".finish-card-status"),r=document.querySelector(".finish-card-smile");let i=JSON.parse(localStorage.getItem("quizAnswersByPicture"));i[n.id]=s,localStorage.setItem("quizAnswersByPicture",JSON.stringify(i));let c=a.calculateAnswers(s),o="",l="rgba(207, 249, 255, 0.9)",u="0px 0px";switch(c){case 0:o="Полный провал!",l="rgba(255, 207, 232, 0.9)",u="558px 160px";break;case 1:o="Случайно повезло?",l="rgba(255, 207, 246, 0.9)",u="160px 0px";break;case 2:o="На двоечку!",l="rgba(240, 207, 255, 0.9)",u="360px 0px";break;case 3:o="Удовлетворительно!",l="rgba(220, 207, 255, 0.9)",u="568px 360px";break;case 4:o="Даже не стараешься!",l="rgba(209, 207, 255, 0.9)",u="765px 360px";break;case 5:o="Ты можешь лучше!",l="rgba(207, 216, 255, 0.9)",u="558px 0px";break;case 6:o="Неплохо!",l="rgba(207, 225, 255, 0.9)",u="0px 360px";break;case 7:o="Хорошо!",l="rgba(207, 235, 255, 0.9)",u="770px 0px";break;case 8:o="Отлично!",l="rgba(207, 249, 255, 0.9)",u="358px 160px";break;case 9:o="Впечатляет!",l="rgba(207, 255, 249, 0.9)",u="758px 160px";break;case 10:o="Идеально!",l="rgba(207, 255, 225, 0.9)";break;default:o="Что-то пошло не так"}h.style.backgroundColor=l,r.style.backgroundPosition=u,e.innerText=`${c} из ${p[n.id].length}`,t.innerText=o,h.classList.add("show"),a.playAudio(a.audios.finishRound)}()}function T(){r=p[n.id][e],t=a.getRandomPictures(r.imageNum),c.style.backgroundImage=`url("./data/${t[0]}.webp")`,o.style.backgroundImage=`url("./data/${t[1]}.webp")`,l.style.backgroundImage=`url("./data/${t[2]}.webp")`,u.style.backgroundImage=`url("./data/${t[3]}.webp")`,document.querySelector(`.progressbar-element-${e+1}`).classList.add("current"),i.innerText=`Какую из этих картин написал ${r.author}?`}k()}},"/resultsbyauthor/:id":{render:async()=>{let e=a.parseRequestURL();return`\n          <section class="section">\n            <h1>Результаты ${+e.id.replace(/^0+/,"")+1} раунда игры по художникам</h1>\n            <ul class = "results-container">\n            ${v[e.id].map(((t,s)=>`<li class = "results">\n                <div class = "flip-container">\n                  <div class = "flipper">\n                    <div class = "front">\n                      <img src = ./data/${v[e.id][s].imageNum}.webp>\n                      <div class = "score"></div>\n                    </div>\n                    <div class = "back">\n                      <div class = "author">${v[e.id][s].author}</div>\n                      <div class = "name">"${v[e.id][s].name}"</div>\n                      <div class = "year">(${v[e.id][s].year})</div>\n                    </div>\n                  </div>\n                </div>\n                \n              </li>`)).join("\n ")}\n            </ul>\n          </section>\n      `},after_render:async()=>{let e=a.parseRequestURL();document.querySelector(".results-container").addEventListener("click",(function(e){const t=e.target.closest(".flip-container");document.querySelectorAll(".flip-container").forEach((e=>{e!=t&&e.classList.remove("flip")})),t.classList.toggle("flip")})),function(){let t=JSON.parse(localStorage.getItem("quizAnswersByAuthor"));document.querySelectorAll(".results").forEach(((s,n)=>{t[e.id][n]||s.classList.add("grayscale")}))}()}},"/resultsbypicture/:id":{render:async()=>{let e=a.parseRequestURL();return`\n          <section class="section">\n            <h1>Результаты ${+e.id.replace(/^0+/,"")+1} раунда игры по художникам</h1>\n            <ul class = "results-container">\n            ${p[e.id].map(((t,s)=>`<li class = "results">\n                <div class = "flip-container">\n                  <div class = "flipper">\n                    <div class = "front">\n                      <img src = ./data/${p[e.id][s].imageNum}.webp>\n                      <div class = "score"></div>\n                    </div>\n                    <div class = "back">\n                      <div class = "author">${p[e.id][s].author}</div>\n                      <div class = "name">"${p[e.id][s].name}"</div>\n                      <div class = "year">(${p[e.id][s].year})</div>\n                    </div>\n                  </div>\n                </div>\n                \n              </li>`)).join("\n ")}\n            </ul>\n          </section>\n      `},after_render:async()=>{document.querySelector(".navbar-item-return").setAttribute("href","#/bypicture");let e=a.parseRequestURL();document.querySelector(".results-container").addEventListener("click",(function(e){const t=e.target.closest(".flip-container");document.querySelectorAll(".flip-container").forEach((e=>{e!=t&&e.classList.remove("flip")})),t.classList.toggle("flip")})),function(){let t=JSON.parse(localStorage.getItem("quizAnswersByPicture"));document.querySelectorAll(".results").forEach(((s,n)=>{t[e.id][n]||s.classList.add("grayscale")}))}()}},"/byauthor":{render:async()=>`\n          <section class="section">\n              <h1>Викторина по художникам</h1>\n              <ul class = "categories-container">\n              ${v.map(((e,t)=>`<li class = categories-container-li>\n                      <div class = "categories categories-${t+1}">\n                        <a href = "#/byauthor/${t}"></a>\n                      </div>\n                      <div class = "number">${t+1}</div>\n                      <a href = "#/resultsbyauthor/${t}" class= "results results-${t+1}"></a>\n                      <div class = "categories-results  categories-results-${t+1}"></div>\n                    </li>`)).join("\n ")}\n              </ul>\n          </section>\n      `,after_render:async()=>{document.querySelector(".navbar-item-return").classList.add("invisible");let e=JSON.parse(localStorage.getItem("quizAnswersByAuthor"));const t=document.querySelectorAll(".categories-results");v.map(((s,n)=>{let r=a.calculateAnswers(e[n]),i=v[0].length;document.querySelector(`.categories-${n+1}`).style.backgroundImage=`url("./data/${v[n][0].imageNum}.webp")`,r||(document.querySelector(`.categories-${n+1}`).classList.add("half-grayscale"),document.querySelector(`.results-${n+1}`).classList.add("hidden"),document.querySelector(`.categories-results-${n+1}`).classList.add("hidden")),t[n].innerText=r+"/"+i}))}},"/bypicture":{render:async()=>`\n          <section class="section">\n              <h1>Викторина по произведениям</h1>\n              <ul class = "categories-container">\n              ${p.map(((e,t)=>`<li class = categories-container-li>\n                      <div class = "categories categories-${t+1}">\n                        <a href = "#/bypicture/${t}"></a>\n                      </div>\n                      <div class = "number">${t+1}</div>\n                      <a href = "#/resultsbypicture/${t}" class= "results results-${t+1}"></a>\n                      <div class = "categories-results  categories-results-${t+1}"></div>\n                    </li>`)).join("\n ")}\n              </ul>\n          </section>\n      `,after_render:async()=>{console.log(p),document.querySelector(".navbar-item-return").classList.add("invisible");let e=JSON.parse(localStorage.getItem("quizAnswersByPicture"));const t=document.querySelectorAll(".categories-results");p.map(((s,n)=>{let r=a.calculateAnswers(e[n]),i=p[0].length;document.querySelector(`.categories-${n+1}`).style.backgroundImage=`url("./data/${p[n][0].imageNum}.webp")`,r||(document.querySelector(`.categories-${n+1}`).classList.add("half-grayscale"),document.querySelector(`.results-${n+1}`).classList.add("hidden"),document.querySelector(`.categories-results-${n+1}`).classList.add("hidden")),t[n].innerText=r+"/"+i}))}}};let d=[],m=[],g=[],h=[],v=[],p=[],b=null;function y(e,t){let s=[];for(let n=0;n<e.length;n+=t){let r=e.slice(n,n+t);s.push(r)}return s}(async()=>{b=await(async()=>{try{const e=await fetch("./data.json");return await e.json()}catch(e){console.log("Error getting json data",e)}})(),(async()=>{b.forEach(((e,t)=>{t%2==0?d.push({...e}):m.push({...e})})),v=y(d,10),p=y(m,10);for(let e=0;e<v.length;e++){let e=[];for(let t=0;t<v[0].length;t++)e.push(0);g.push(e)}for(let e=0;e<p.length;e++){let e=[];for(let t=0;t<p[0].length;t++)e.push(0);h.push(e)}localStorage.getItem("quizAnswersByAuthor")||localStorage.setItem("quizAnswersByAuthor",JSON.stringify(g)),localStorage.getItem("quizAnswersByPicture")||localStorage.setItem("quizAnswersByPicture",JSON.stringify(g)),localStorage.getItem("quiz-volume")&&localStorage.getItem("quiz-timer")||(localStorage.setItem("quiz-volume",.5),localStorage.setItem("quiz-timer",30))})()})();const f=async()=>{const e=document.getElementById("header_container"),t=document.getElementById("page_container"),n=document.getElementById("footer_container");e.innerHTML=await i(),await c(),n.innerHTML=await o(),await l();let r=a.parseRequestURL(),d=(r.resource?"/"+r.resource:"/")+(r.id?"/:id":"")+(r.verb?"/"+r.verb:""),m=u[d]?u[d]:s;t.innerHTML=await m.render(),await m.after_render()};window.addEventListener("hashchange",f),window.addEventListener("load",f),window.addEventListener("resize",(()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)})),setTimeout((()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}),100),console.log("***\n\nПриветствую проверяющего!\n\nИспользованные анимации:\nИндикатор загрузки при первоначальной загрузке страницы (вращающиеся круги);\nРадиальная закраска кнопок ответа при ответе;\nВыезжающая панель с правильным ответом, а также панель окончания раунда;\nВращающиеся карточки на странице результатов раунда;\n\nДополнительный функционал:\nУправление викториной с клавиатуры;\nРазные уведомления по окончанию раунда в зависимости от результата;\n\nХорошего дня и спасибо за проверку!\n\n***")})();